<view class="container">
  
  <!-- è°ƒè¯•ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰ -->
  <view wx:if="{{__debugMode}}" style="padding: 20rpx; background: #ffeeee; margin-bottom: 20rpx;">
    <view>ğŸ”§ è°ƒè¯•ä¿¡æ¯</view>
    <view>å½“å‰å¤´åƒ: {{userInfo.avatar}}</view>
    <view>ç”¨æˆ·å§“å: {{userInfo.name}}</view>
    <view>ä¿¡èª‰åˆ†: {{userInfo.credit}}</view>
    <button size="mini" bindtap="refreshData">ğŸ”„ æ‰‹åŠ¨åˆ·æ–°</button>
  </view>

  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="bg-white rounded-lg p-20 mb-20" bindtap="openEditUserInfo">
    <view class="flex-row justify-between mb-20">
      <!-- å¤´åƒ -->
      <van-avatar 
        size="80" 
        src="{{userInfo.avatar}}" 
        class="mr-20"
      />
      
      <!-- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ -->
      <view class="flex-col flex-1">
        <text class="font-bold text-36rpx">{{userInfo.name}}</text>
        <text class="text-light">ä¿¡èª‰åˆ†ï¼š{{userInfo.credit}}</text>
      </view>
      
      <!-- åˆ·æ–°æŒ‰é’® -->
      <van-button 
        size="small" 
        type="primary" 
        bindtap="refreshData"
        style="height: 60rpx;"
      >
        ğŸ”„ åˆ·æ–°
      </van-button>
    </view>
    
    <!-- è¯¦ç»†ä¿¡æ¯ -->
    <van-cell-group border="{{false}}">
      <van-cell label="æ€§åˆ«" value="{{userInfo.gender || 'æœªè®¾ç½®'}}" />
      <van-cell label="å¹´çº§" value="{{userInfo.grade || 'æœªè®¾ç½®'}}" />
      <van-cell label="é™¢ç³»" value="{{userInfo.dept || 'æœªè®¾ç½®'}}" />
      <van-cell label="æŠ€èƒ½" value="{{userInfo.skill && Array.isArray(userInfo.skill) ? userInfo.skill.join('ã€') : 'æœªè®¾ç½®'}}" />
    </van-cell-group>
  </view>

  <!-- ç§¯åˆ†æ¨¡å— -->
  <view class="bg-white rounded-lg p-20 mb-20">
    <text class="font-bold text-32rpx block mb-20">ç§¯åˆ†ä¸­å¿ƒ</text>
    <view class="flex-row justify-between mb-20">
      <text>å½“å‰ç§¯åˆ†ï¼š</text>
      <text class="text-primary font-bold">{{userScore}}</text>
    </view>
    <van-button class="purple-btn mt-20 w-100" bindtap="checkIn">
      æ¯æ—¥ç™»å½•é¢†ç§¯åˆ†
    </van-button>
  </view>

  <!-- åŠŸèƒ½å…¥å£ -->
  <view class="bg-white rounded-lg p-20 mb-20">
    <van-cell 
      title="æˆ‘è¦æä¾›æ´»åŠ¨ï¼" 
      is-link
      bindtap="openSubmitActivity"
      icon="plus-o"
    />
    <van-cell 
      title="è”ç³»æˆ‘çš„äºº" 
      is-link
      bindtap="openContactRequests"
      icon="friends-o"
    />
    <van-cell 
      title="æˆ‘çš„åˆä½œè€…" 
      is-link
      bindtap="openTeammates"
      icon="friends-o"
    />
    <van-cell 
      title="å‘åœˆå®£ä¼ é¢†ç§¯åˆ†" 
      is-link
      bindtap="shareToCircle"
      icon="share-o"
    />
    <van-cell 
      title="ç§¯åˆ†å…‘æ¢ç¤¼å“" 
      is-link
      bindtap="exchangeGift"
      icon="gift-o"
    />
  </view>

</view>