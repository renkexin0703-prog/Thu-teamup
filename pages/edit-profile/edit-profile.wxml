<view class="container">
  <view class="form-item avatar-item">
  <text class="label">头像</text>
  <view class="avatar-container">
    <image 
      class="avatar-img" 
      src="{{userInfo.avatar || '/images/default-avatar.png'}}"
      mode="aspectFill"
      bindtap="chooseAvatar"
    />
    <button class="upload-btn" bindtap="chooseAvatar">更换</button>
  </view>
</view>

  <view class="form-item">
    <text class="label">姓名</text>
    <input class="input" placeholder="请输入姓名" value="{{name}}" bindinput="onNameInput" />
  </view>

  <view class="form-item">
    <text class="label">性别</text>
    <picker mode="selector" range="{{filterOptions.gender}}" bindchange="onGenderSelect">
      <view class="picker">{{gender || "请选择性别"}}</view>
    </picker>
  </view>

  <view class="form-item">
    <text class="label">年级</text>
    <picker mode="selector" range="{{filterOptions.grades}}" bindchange="onGradeSelect">
      <view class="picker">{{grade || "请选择年级"}}</view>
    </picker>
  </view>

  <view class="form-item">
    <text class="label">院系</text>
    <picker mode="selector" range="{{filterOptions.departments}}" bindchange="onDeptSelect">
      <view class="picker">{{department || "请选择院系"}}</view>
    </picker>
  </view>

  <view class="form-item">
    <text class="label">技能</text>
    <!-- 显示已选技能 -->
    <view class="skill-value">{{skills.length > 0 ? skills.join("、") : "暂无技能"}}</view>
    <!-- 固定显示“请编辑技能”的按钮 -->
    <button class="picker" bindtap="gotoSelectSkills">
      请编辑技能
    </button>
</view>

  <view class="form-item">
    <text class="label">个人简介</text>
    <textarea
      class="input textarea"
      placeholder="请输入你的个人简介（可多行）"
      value="{{bio}}"
      bindinput="onBioChange"
      maxlength="200"
      auto-height
    />
  </view>

  <view class="form-item">
    <text class="label">微信号</text>
    <input class="input" placeholder="请输入微信号" value="{{wechat}}" bindinput="onWechatInput" />
  </view>

  <button class="submit-btn" bindtap="onSubmit">确定</button>
  <!-- 在页面底部添加 canvas -->
<canvas canvas-id="cut-canvas" style="display: none;"></canvas>
</view>